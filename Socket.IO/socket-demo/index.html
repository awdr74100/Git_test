<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" class="input" placeholder="請輸入" />
    <script src="/node_modules/socket.io-client/dist/socket.io.js"></script>
    <script>
      const input = document.querySelector('.input');
      const socket = io('http://localhost:3000');

      input.addEventListener('keypress', function (e) {
        if (e.code !== 'Enter') return;
        const value = this.value;
        socket.emit('chat message', value);
        this.value = '';
      });
      socket.on('chat message', function (msg) {
        console.log(msg);
      });
    </script>
  </body>
</html>
