webpackJsonp([1],{DQa5:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),i={data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout(function(){a.messages.forEach(function(e,s){e.timestamp===t&&a.messages.splice(s,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("message:push",function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger";t.updateMessage(a,e)})}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"message-alert"},t._l(t.messages,function(a,s){return e("div",{key:s,staticClass:"alert",class:"alert--"+a.status},["success"==a.status?e("span",[e("i",{staticClass:"fas fa-check-circle"})]):t._e(),t._v(" "),"warning"==a.status?e("span",[e("i",{staticClass:"fas fa-exclamation-triangle"})]):t._e(),t._v(" "),"danger"==a.status?e("span",[e("i",{staticClass:"fas fa-times-circle"})]):t._e(),t._v(" "),e("p",[t._v(t._s(a.message))]),t._v(" "),e("button",{on:{click:function(a){return t.removeMessage(s)}}},[t._v("×")])])}),0)])},staticRenderFns:[]},o={components:{Alert:e("VU/8")(i,n,!1,null,null,null).exports},name:"App"},r={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("Alert"),this._v(" "),a("router-view")],1)},staticRenderFns:[]};var l=e("VU/8")(o,r,!1,function(t){e("SJsO")},null,null).exports,c=e("/ocq"),d={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("div",{staticClass:"topbar"},[a("ul",{staticClass:"list pt-5"},[a("li",{staticClass:"list__item"},[a("router-link",{attrs:{to:"/admin/productList"}},[a("i",{staticClass:"fas fa-users-cog"}),this._v("後台管理")])],1),this._v(" "),this._m(0),this._v(" "),this._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"list__item"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fas fa-cart-arrow-down"}),this._v("購物車 (0)")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"list__item"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fas fa-globe-americas"}),this._v("中文(繁體)")])])}]},u=e("VU/8")(null,d,!1,null,null,null).exports,p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"navbar"},[e("h2",{staticClass:"logo"},[e("a",{attrs:{href:""}})]),t._v(" "),e("ul",{staticClass:"list mt-20"},[e("li",{staticClass:"list__item"},[e("a",{attrs:{href:"#"}},[t._v("品牌故事")])]),t._v(" "),e("li",{staticClass:"list__item"},[e("a",{attrs:{href:"#"}},[t._v("購物商場")])]),t._v(" "),e("li",{staticClass:"list__item"},[e("a",{attrs:{href:"#"}},[t._v("品牌旗艦館")])]),t._v(" "),e("li",{staticClass:"list__item"},[e("a",{attrs:{href:"#"}},[t._v("貓奴的日常")])]),t._v(" "),e("li",{staticClass:"list__item"},[e("a",{attrs:{href:"#"}},[t._v("領養專區")])]),t._v(" "),e("li",{staticClass:"list__item"},[e("a",{attrs:{href:"#"}},[t._v("聯絡我們")])])])])])}]},m=e("VU/8")(null,p,!1,null,null,null).exports,v=e("7QTg"),_=e.n(v),h={data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"},speed:1e3,loop:!0,autoplay:{delay:6e3,disableOnInteraction:!1},direction:"horizontal"}}},components:{swiper:v.swiper,swiperSlide:v.swiperSlide}},f={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("swiper",{ref:"mySwiper",attrs:{options:this.swiperOption}},[a("swiper-slide",[a("a",{staticClass:"banner banner--Img1",attrs:{href:"#"}})]),this._v(" "),a("swiper-slide",[a("a",{staticClass:"banner banner--Img2",attrs:{href:"#"}})]),this._v(" "),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)],1)},staticRenderFns:[]},g={components:{Topbar:u,Navbar:m,Swiper:e("VU/8")(h,f,!1,null,null,null).exports}},C={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("div",{staticClass:"wrap"},[a("header",{staticClass:"header"},[a("Topbar"),this._v(" "),a("Navbar")],1),this._v(" "),a("div",{staticClass:"banner"},[a("Swiper")],1)])])},staticRenderFns:[]},b=e("VU/8")(g,C,!1,null,null,null).exports,D={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"wrap"},[e("section",{staticClass:"login pt-100"},[e("div",{staticClass:"logo"},[e("router-link",{attrs:{to:"/"}})],1),t._v(" "),e("form",{staticClass:"login-form pt-20",attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.signin(a)}}},[e("h3",[t._v("登入管理員帳號")]),t._v(" "),e("label",{attrs:{for:"email"}},[t._v("Email：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"input input--mail",attrs:{type:"email",name:"",id:"email"},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),t._v(" "),e("label",{attrs:{for:"password"}},[t._v("Password：")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input input--key",attrs:{type:"password",name:"",id:"password"},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._v(" "),e("button",{attrs:{type:"submit"}},[t._v("Sign In")]),t._v(" "),t.loading?e("span",[e("i",{staticClass:"fas fa-spinner fa-spin"})]):t._e()])])])])},staticRenderFns:[]},y=e("VU/8")({data:function(){return{user:{username:"",password:""},loading:!1}},methods:{signin:function(){var t=this;t.loading=!0,this.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(a){a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.$router.push("/admin/productList")):t.$bus.$emit("message:push",a.data.message,"danger"),t.loading=!1})}},created:function(){this.$bus.$emit("message:push","請先登入","danger")}},D,!1,null,null,null).exports,$={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"adminSidebar"},[t._m(0),t._v(" "),e("ul",{staticClass:"list"},[e("li",{staticClass:"list__item"},[e("router-link",{class:{active:"productList"==t.visibility},attrs:{to:"/admin/productList"}},[e("i",{staticClass:"fas fa-th-list"}),t._v(" "),e("p",[t._v("商品列表")])])],1),t._v(" "),e("li",{staticClass:"list__item"},[e("router-link",{class:{active:"orderList"==t.visibility},attrs:{to:"/admin/orderList"}},[e("i",{staticClass:"fas fa-user-tag"}),t._v(" "),e("p",[t._v("訂單列表")])])],1),t._v(" "),e("li",{staticClass:"list__item"},[e("router-link",{class:{active:"couponList"==t.visibility},attrs:{to:"/admin/couponList"}},[e("i",{staticClass:"fas fa-gift"}),t._v(" "),e("p",[t._v("優惠卷")])])],1),t._v(" "),t._m(1),t._v(" "),e("li",{staticClass:"list__item"},[e("router-link",{attrs:{to:"/"},nativeOn:{click:function(a){return t.alertMessage(a)}}},[e("i",{staticClass:"fas fa-store-alt"}),t._v(" "),e("p",[t._v("回到商場")])])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"logo"},[a("h2",[a("span",[this._v("毛孩")]),this._v("百貨")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",{staticClass:"list__item"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fas fa-stream"}),this._v(" "),a("p",[this._v("網站狀態")])])])}]},x={methods:{signout:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/logout").then(function(a){a.data.success?(console.log(a.data),t.$bus.$emit("message:push",a.data.message,"success"),t.$router.push("/")):t.$bus.$emit("message:push","操作失敗","danger")})}}},w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"adminTopbar"},[e("h3",[t._v("後台管理系統")]),t._v(" "),e("ul",{staticClass:"list"},[e("li",{staticClass:"list__item"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v("登出"),e("i",{staticClass:"fas fa-sign-out-alt"})])])])])])},staticRenderFns:[]},k={components:{adminSidebar:e("VU/8")({methods:{alertMessage:function(){this.$bus.$emit("message:push","尚未登出","warning")}},computed:{visibility:function(){return this.$route.name}}},$,!1,null,null,null).exports,adminTopbar:e("VU/8")(x,w,!1,null,null,null).exports}},M={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("div",{staticClass:"backend"},[a("div",{staticClass:"container px-0"},[a("div",{staticClass:"row row__noGutter"},[a("div",{staticClass:"col-2"},[a("adminSidebar")],1),this._v(" "),a("div",{staticClass:"col-10"},[a("adminTopbar"),this._v(" "),a("router-view")],1)])])])])},staticRenderFns:[]},P=e("VU/8")(k,M,!1,null,null,null).exports,L=e("woOf"),E=e.n(L),U={props:["item"],data:function(){return{cacheData:{},status:!1}},methods:{callUpdate:function(){this.$emit("callUpdate",this.cacheData)},uploadFile:function(){var t=this,a=this.$refs.files.files[0],e=this.$refs.files.id,s=new FormData;s.append("file-to-upload",a),t.status=!0,t.$http.post("https://vue-course-api.hexschool.io/api/roya/admin/upload",s,{"Content-Type":"multipart/form-data"}).then(function(a){a.data.success||t.$bus.$emit("message:push",a.data.message,"danger"),t.$set(t.cacheData,"imageUrl",a.data.imageUrl),document.getElementById(e).value="",t.status=!1})}},computed:{tempData:function(){return this.cacheData=this.item,this.cacheData}}},F={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.imageUrl,expression:"tempData.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempData.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.tempData,"imageUrl",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\n                  "),t.status?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),t._v(" "),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),t._v(" "),e("img",{staticClass:"img-fluid",attrs:{img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",alt:"",src:t.tempData.imageUrl}})]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.title,expression:"tempData.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempData.title},on:{input:function(a){a.target.composing||t.$set(t.tempData,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.category,expression:"tempData.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempData.category},on:{input:function(a){a.target.composing||t.$set(t.tempData,"category",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.unit,expression:"tempData.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempData.unit},on:{input:function(a){a.target.composing||t.$set(t.tempData,"unit",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.origin_price,expression:"tempData.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempData.origin_price},on:{input:function(a){a.target.composing||t.$set(t.tempData,"origin_price",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.price,expression:"tempData.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempData.price},on:{input:function(a){a.target.composing||t.$set(t.tempData,"price",a.target.value)}}})])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempData.description,expression:"tempData.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempData.description},on:{input:function(a){a.target.composing||t.$set(t.tempData,"description",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempData.content,expression:"tempData.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempData.content},on:{input:function(a){a.target.composing||t.$set(t.tempData,"content",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.is_enabled,expression:"tempData.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":2},domProps:{checked:Array.isArray(t.tempData.is_enabled)?t._i(t.tempData.is_enabled,null)>-1:t._q(t.tempData.is_enabled,1)},on:{change:function(a){var e=t.tempData.is_enabled,s=a.target,i=s.checked?1:2;if(Array.isArray(e)){var n=t._i(e,null);s.checked?n<0&&t.$set(t.tempData,"is_enabled",e.concat([null])):n>-1&&t.$set(t.tempData,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.tempData,"is_enabled",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                    是否啟用\n                  ")])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.callUpdate}},[t._v("確認")])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.title,expression:"tempData.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempData.title},on:{input:function(a){a.target.composing||t.$set(t.tempData,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"code"}},[t._v("優惠代碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.code,expression:"tempData.code"}],staticClass:"form-control",attrs:{type:"text",id:"code",placeholder:"請輸入優惠代碼"},domProps:{value:t.tempData.code},on:{input:function(a){a.target.composing||t.$set(t.tempData,"code",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"date"}},[t._v("到期日")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.due_date,expression:"tempData.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"date",max:"2100-12-31"},domProps:{value:t.tempData.due_date},on:{input:function(a){a.target.composing||t.$set(t.tempData,"due_date",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"percent"}},[t._v("折扣百分比")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.percent,expression:"tempData.percent"}],staticClass:"form-control",attrs:{type:"text",id:"percent",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempData.percent},on:{input:function(a){a.target.composing||t.$set(t.tempData,"percent",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempData.is_enabled,expression:"tempData.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":2},domProps:{checked:Array.isArray(t.tempData.is_enabled)?t._i(t.tempData.is_enabled,null)>-1:t._q(t.tempData.is_enabled,1)},on:{change:function(a){var e=t.tempData.is_enabled,s=a.target,i=s.checked?1:2;if(Array.isArray(e)){var n=t._i(e,null);s.checked?n<0&&t.$set(t.tempData,"is_enabled",e.concat([null])):n>-1&&t.$set(t.tempData,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.tempData,"is_enabled",i)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                    是否啟用\n                  ")])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.callUpdate}},[t._v("確認")])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"delDataModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t.tempData.percent?e("span",[t._v("刪除優惠卷")]):e("span",[t._v("刪除產品")])]),t._v(" "),t._m(2)]),t._v(" "),e("div",{staticClass:"modal-body"},[t._v("\n          是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempData.title))]),t._v(" "),t.tempData.percent?e("span",[t._v("優惠卷")]):e("span",[t._v("商品")]),t._v("\n          (刪除後將無法恢復)。\n        ")]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.callUpdate}},[t._v("確認刪除")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("新增產品")])]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("新增優惠卷")])]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]};var N=e("VU/8")(U,F,!1,function(t){e("DQa5")},"data-v-10746f3b",null).exports,S={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"adminPagination"},[e("ul",{staticClass:"list"},[e("li",{staticClass:"list__item"},[e("a",{staticClass:"prev",class:{disabled:!t.paginationData.has_pre},attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.callPagination(t.paginationData.current_page-1)}}},[e("i",{staticClass:"fas fa-chevron-left"})])]),t._v(" "),t._l(t.paginationData.total_pages,function(a,s){return e("li",{key:s,staticClass:"list__item"},[e("a",{staticClass:"page",class:{active:a==t.paginationData.current_page},attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.callPagination(a)}}},[t._v(t._s(a))])])}),t._v(" "),e("li",{staticClass:"list__item"},[e("a",{staticClass:"next",class:{disabled:!t.paginationData.has_next},attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.callPagination(t.paginationData.current_page+1)}}},[e("i",{staticClass:"fas fa-chevron-right"})])])],2)])])},staticRenderFns:[]},A=e("VU/8")({props:["paginationData"],methods:{callPagination:function(t){this.$emit("updatePagination",t)}}},S,!1,null,null,null).exports,I=e("7t+N"),R=e.n(I),V={components:{updateModal:N,adminPagination:A},data:function(){return{products:[],doing:"",thisItem:{},effect:{isLoading:!1},pagination:{}}},methods:{getProducts:function(){var t="https://vue-course-api.hexschool.io/api/roya/admin/products?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),a=this;a.effect.isLoading=!0,a.$http.get(t).then(function(t){t.data.success?(a.products=t.data.products,a.pagination=t.data.pagination):(a.$router.push("/login"),a.$bus.$emit("message:push",t.data.message,"danger")),a.effect.isLoading=!1})},openModal:function(t,a){var e=this;switch(e.doing=t,e.doing){case"add":e.thisItem={},R()("#productModal").modal("show");break;case"edit":e.thisItem=E()({},a),R()("#productModal").modal("show");break;case"delete":e.thisItem=E()({},a),R()("#delDataModal").modal("show")}},updateProduct:function(t){console.log(t);var a=this,e=void 0,s=void 0;switch(a.doing){case"add":e="https://vue-course-api.hexschool.io/api/roya/admin/product",s="post";break;case"edit":e="https://vue-course-api.hexschool.io/api/roya/admin/product/"+t.id,s="put";break;case"delete":e="https://vue-course-api.hexschool.io/api/roya/admin/product/"+t.id,s="delete"}this.$http[s](e,{data:t}).then(function(t){R()("#productModal").modal("hide"),R()("#delDataModal").modal("hide"),a.$bus.$emit("message:push",t.data.message,"success"),a.getProducts()})}},created:function(){this.getProducts()}},T={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.effect.isLoading},on:{"update:active":function(a){return t.$set(t.effect,"isLoading",a)}}},[e("template",{slot:"default"},[e("span",{staticClass:"loader"},[e("span",{staticClass:"loader-inner"})])])],2),t._v(" "),e("div",{staticClass:"adminProductList"},[e("div",{staticClass:"addProduct"},[e("button",{staticClass:"btn btn--add",on:{click:function(a){return t.openModal("add")}}},[t._v("建立新的產品")])]),t._v(" "),e("table",[t._m(0),t._v(" "),e("tbody",t._l(t.products,function(a,s){return e("tr",{key:s},[e("td",{staticClass:"t-m",staticStyle:{"text-align":"left"}},[t._v(t._s(a.category))]),t._v(" "),e("td",{staticClass:"t-l"},[t._v(t._s(a.title))]),t._v(" "),e("td",{staticClass:"t-m"},[t._v(t._s(t._f("currency")(a.origin_price)))]),t._v(" "),e("td",{staticClass:"t-m"},[t._v(t._s(t._f("currency")(a.price)))]),t._v(" "),e("td",{staticClass:"t-s"},[a.is_enabled?e("span",{staticClass:"text-up"},[t._v("上架")]):e("span",[t._v("下架")])]),t._v(" "),e("td",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn--edit",on:{click:function(e){return t.openModal("edit",a)}}},[t._v("編輯")]),t._v(" "),e("button",{staticClass:"btn btn--remove ml-3",on:{click:function(e){return t.openModal("delete",a)}}},[t._v("刪除")])])])}),0)])]),t._v(" "),0!==t.pagination.current_page?e("adminPagination",{attrs:{paginationData:t.pagination},on:{updatePagination:t.getProducts}}):t._e(),t._v(" "),e("updateModal",{attrs:{item:t.thisItem},on:{callUpdate:t.updateProduct}})],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"t-m",staticStyle:{"text-align":"left"}},[t._v("分類")]),t._v(" "),e("th",{staticClass:"t-l"},[t._v("產品名稱")]),t._v(" "),e("th",{staticClass:"t-m"},[t._v("原價")]),t._v(" "),e("th",{staticClass:"t-m"},[t._v("售價")]),t._v(" "),e("th",{staticClass:"t-s"},[t._v("是否上架")]),t._v(" "),e("th",{staticClass:"t-m"},[t._v("操作")])])])}]},O=e("VU/8")(V,T,!1,null,null,null).exports,q={components:{adminPagination:A},data:function(){return{orders:[],effect:{isLoading:!1},pagination:{}}},methods:{getOrders:function(){var t="https://vue-course-api.hexschool.io/api/roya/admin/orders?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),a=this;a.effect.isLoading=!0,a.$http.get(t).then(function(t){console.log(t.data),a.orders=t.data.orders,a.pagination=t.data.pagination,a.effect.isLoading=!1})}},created:function(){this.getOrders()}},J={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.effect.isLoading},on:{"update:active":function(a){return t.$set(t.effect,"isLoading",a)}}},[e("template",{slot:"default"},[e("span",{staticClass:"loader"},[e("span",{staticClass:"loader-inner"})])])],2),t._v(" "),e("div",{staticClass:"adminOrderList"},[t._m(0),t._v(" "),e("table",[t._m(1),t._v(" "),e("tbody",t._l(t.orders,function(a,s){return e("tr",{key:s},[e("td",{staticClass:"t-m",staticStyle:{"text-align":"left"}},[t._v(t._s(t._f("dateTime")(a.create_at)))]),t._v(" "),e("td",{staticClass:"t-l"},[t._v(t._s(a.user.email))]),t._v(" "),e("td",{staticClass:"t-xl"},[t._v("飛鳥拂女佯裝 數量：6件")]),t._v(" "),e("td",{staticClass:"t-m"},[t._v("$6640")]),t._v(" "),e("td",{staticClass:"t-s"},[a.is_paid?e("span",[t._v("尚未付款")]):e("span",{staticClass:"text-paid"},[t._v("已付款")])]),t._v(" "),t._m(2,!0)])}),0)])]),t._v(" "),0!==t.pagination.current_page?e("adminPagination",{attrs:{paginationData:t.pagination},on:{updatePagination:t.getOrders}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"selectMode"},[a("select",{attrs:{name:"",id:""}},[a("option",{attrs:{value:"all",selected:""}},[this._v("顯示全部")]),this._v(" "),a("option",{attrs:{value:"finsh"}},[this._v("已付款")]),this._v(" "),a("option",{attrs:{value:"undone"}},[this._v("尚未付款")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"t-m",staticStyle:{"text-align":"left"}},[t._v("購買時間")]),t._v(" "),e("th",{staticClass:"t-l"},[t._v("Email")]),t._v(" "),e("th",{staticClass:"t-xl"},[t._v("購買款項")]),t._v(" "),e("th",{staticClass:"t-m"},[t._v("應付金額")]),t._v(" "),e("th",{staticClass:"t-s"},[t._v("付款狀態")]),t._v(" "),e("th",{staticClass:"t-message"},[t._v("留言")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("td",{staticClass:"t-message"},[a("span",{staticClass:"btn"},[a("i",{staticClass:"fas fa-align-right"})])])}]},W=e("VU/8")(q,J,!1,null,null,null).exports,H={components:{updateModal:N,adminPagination:A},data:function(){return{coupons:[],doing:"",thisItem:{},effect:{isLoading:!1},pagination:{}}},methods:{getCoupons:function(){var t="https://vue-course-api.hexschool.io/api/roya/admin/coupons?page="+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),a=this;a.effect.isLoading=!0,a.$http.get(t).then(function(t){a.coupons=t.data.coupons,a.pagination=t.data.pagination,a.effect.isLoading=!1})},openModal:function(t,a){var e=this;switch(e.doing=t,e.doing){case"add":e.thisItem={},R()("#couponModal").modal("show");break;case"edit":e.thisItem=E()({},a);var s=new Date(1e3*e.thisItem.due_date),i=s.getFullYear()+"-"+(s.getMonth()+1<10?"0":"")+(s.getMonth()+1)+"-"+(s.getDate()+1<10?"0":"")+s.getDate();e.thisItem.due_date=i,R()("#couponModal").modal("show");break;case"delete":e.thisItem=E()({},a),R()("#delDataModal").modal("show")}},updateCoupon:function(t){var a=this,e=void 0,s=void 0;switch(a.doing){case"add":e="https://vue-course-api.hexschool.io/api/roya/admin/coupon",s="post";break;case"edit":e="https://vue-course-api.hexschool.io/api/roya/admin/coupon/"+t.id,s="put";break;case"delete":e="https://vue-course-api.hexschool.io/api/roya/admin/coupon/"+t.id,s="delete"}var i=E()({},t),n=t.due_date,o=new Date(n)/1e3;i.due_date=o,this.$http[s](e,{data:i}).then(function(t){R()("#couponModal").modal("hide"),R()("#delDataModal").modal("hide"),a.$bus.$emit("message:push",t.data.message,"success"),a.getCoupons()})}},created:function(){this.getCoupons()}},Q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.effect.isLoading},on:{"update:active":function(a){return t.$set(t.effect,"isLoading",a)}}},[e("template",{slot:"default"},[e("span",{staticClass:"loader"},[e("span",{staticClass:"loader-inner"})])])],2),t._v(" "),e("div",{staticClass:"adminCouponList"},[e("div",{staticClass:"addCoupon"},[e("button",{staticClass:"btn btn--add",on:{click:function(a){return t.openModal("add")}}},[t._v("新增優惠卷")])]),t._v(" "),e("table",[t._m(0),t._v(" "),e("tbody",t._l(t.coupons,function(a,s){return e("tr",{key:s},[e("td",{staticClass:"t-code"},[t._v(t._s(a.code))]),t._v(" "),e("td",{staticClass:"t-l"},[t._v(t._s(a.title))]),t._v(" "),e("td",{staticClass:"t-s"},[t._v(t._s(a.percent)+"%")]),t._v(" "),e("td",{staticClass:"t-m"},[t._v(t._s(t._f("dateTime")(a.due_date)))]),t._v(" "),e("td",{staticClass:"t-xs"},[1==a.is_enabled?e("span",{staticClass:"text-up"},[t._v("啟用")]):e("span",[t._v("尚未啟用")])]),t._v(" "),e("td",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn--edit",on:{click:function(e){return t.openModal("edit",a)}}},[t._v("編輯")]),t._v(" "),e("button",{staticClass:"btn btn--remove ml-3",on:{click:function(e){return t.openModal("delete",a)}}},[t._v("刪除")])])])}),0)])]),t._v(" "),0!==t.pagination.current_page?e("adminPagination",{attrs:{paginationData:t.pagination},on:{updatePagination:t.getCoupons}}):t._e(),t._v(" "),e("updateModal",{attrs:{item:t.thisItem},on:{callUpdate:t.updateCoupon}})],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"t-code"},[t._v("優惠碼")]),t._v(" "),e("th",{staticClass:"t-l",staticStyle:{"text-align":"left"}},[t._v("名稱")]),t._v(" "),e("th",{staticClass:"t-s"},[t._v("折扣百分比")]),t._v(" "),e("th",{staticClass:"t-m"},[t._v("到期日")]),t._v(" "),e("th",{staticClass:"t-xs"},[t._v("是否啟用")]),t._v(" "),e("th",{staticClass:"t-m"},[t._v("操作")])])])}]},Y=e("VU/8")(H,Q,!1,null,null,null).exports;e("K3J8");s.a.use(c.a);var B=new c.a({routes:[{path:"*",redirect:"/"},{path:"/",name:"Home",component:b},{path:"/login",name:"Login",component:y},{path:"/admin",name:"Backend",component:P,children:[{path:"productList",name:"productList",component:O,meta:{requiresAuth:!0}},{path:"orderList",name:"orderList",component:W,meta:{requiresAuth:!0}},{path:"couponList",name:"couponList",component:Y,meta:{requiresAuth:!0}}]}]}),j=e("mtWM"),Z=e.n(j),z=e("Rf8U"),G=e.n(z),K=(e("v2ns"),e("ZZvs")),X=e.n(K);e("SYh3");s.a.prototype.$bus=new s.a;s.a.component("Loading",X.a),s.a.filter("currency",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"$"+Number(t).toFixed(0).replace(/./g,function(t,a,e){return a&&"."!==t&&(e.length-a)%3==0?(", "+t).replace(/\s/g,""):t})}),s.a.filter("dateTime",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=new Date(1e3*t);return t=a.getFullYear()+"/"+(a.getMonth()+1<10?"0":"")+(a.getMonth()+1)+"/"+(a.getDate()+1<10?"0":"")+a.getDate()}),s.a.use(G.a,Z.a,_.a),Z.a.defaults.withCredentials=!0,s.a.config.productionTip=!1,new s.a({el:"#app",router:B,components:{App:l},template:"<App/>"}),B.beforeEach(function(t,a,e){if(t.meta.requiresAuth){Z.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(t){t.data.success?e():e({path:"/login"})})}else e()})},SJsO:function(t,a){},SYh3:function(t,a){},v2ns:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.5ca09305d75dada7c255.js.map